library(leaflet)
if(!require("osmdata")) install.packages("osmdata")
if(!require("tidyverse")) install.packages("tidyverse")
if(!require("sf")) install.packages("sf")
if(!require("leaflet")) install.packages("leaflet")
#load packages
library(tidyverse)
library(osmdata)
library(sf)
library(leaflet)
head(available_features())
# amenities
head(available_tags("amenity"))
cinema <- getbb("pekanbaru") %>%
opq()%>%
add_osm_feature(key = "amenity", value = "cinema") %>%
osmdata_sf()
cinema_point$lat  <- as.numeric(cinema_point$lat )
cinema_point <- data.frame(cinema$osm_points[c('osm_id', 'name', 'amenity')])
cinema_point$geometry <- as.character(cinema_point$geometry)
cinema_point <- cinema_point %>% separate(geometry, c("long", "lat"), ", ")
cinema_point$long <- str_remove_all(cinema_point$long, "[c(]") cinema_point$lat <- str_remove_all(cinema_point$lat,"[)]")
cinema_point <- data.frame(cinema$osm_points[c('osm_id', 'name', 'amenity')])
cinema_point$geometry <- as.character(cinema_point$geometry)
cinema_point <- cinema_point %>% separate(geometry, c("long", "lat"), ", ")
cinema_point$long <- str_remove_all(cinema_point$long, "[c(]")
cinema_point$lat <- str_remove_all(cinema_point$lat,"[)]")
cinema_point$long <- as.numeric(cinema_point$long)
cinema_point$lat  <- as.numeric(cinema_point$lat )
leaflet(cinema_point) %>%
addTiles() %>% addMarkers(
lng = ~long,
lat = ~lat,
label = ~name
)
# Definisikan bounding box untuk Pekanbaru
school <- opq("Pekanbaru") %>%
add_osm_feature(key = "amenity", value = "school") %>%
osmdata_sf()
# Lihat struktur data yang diambil
print(school)
leaflet() %>%
addTiles() %>%
addCircleMarkers(
data = school$osm_points,
lng = ~lon, lat = ~lat,
radius = 5,
color = "red",
label = ~name
) %>%
addLegend("bottomright", colors = "red", labels = "Sekolah", title = "Legenda")
# Pastikan ada data dalam objek
if (!is.null(school$osm_points)) {
# Ekstrak koordinat dari objek sf
pekanbaru_coords <- school$osm_points %>%
st_coordinates() %>%
as.data.frame()
# Tambahkan koordinat ke data asli
school$osm_points$lon <- school_coords$X
school$osm_points$lat <- school_coords$Y
# Visualisasi dengan leaflet
leaflet(school$osm_points) %>%
addTiles() %>%
addCircleMarkers(
lng = ~lon, lat = ~lat,
radius = 5,
color = "red",
label = ~name
) %>%
addLegend("bottomright", colors = "red", labels = "Sekolah", title = "Legenda")
} else {
print("Data sekolah tidak ditemukan.")
}
# Pastikan ada data dalam objek
if (!is.null(school$osm_points)) {
# Ekstrak koordinat dari objek sf
school_coords <- school$osm_points %>%
st_coordinates() %>%
as.data.frame()
# Tambahkan koordinat ke data asli
school$osm_points$lon <- school_coords$X
school$osm_points$lat <- school_coords$Y
# Visualisasi dengan leaflet
leaflet(school$osm_points) %>%
addTiles() %>%
addCircleMarkers(
lng = ~lon, lat = ~lat,
radius = 5,
color = "red",
label = ~name
) %>%
addLegend("bottomright", colors = "red", labels = "Sekolah", title = "Legenda")
} else {
print("Data sekolah tidak ditemukan.")
}
# Ambil data sekolah dalam bentuk poligon
pekanbaru_schools <- opq("Pekanbaru") %>%
add_osm_feature(key = "amenity", value = "school") %>%
osmdata_sf()
# Cek apakah ada data poligon
if (!is.null(pekanbaru_schools$osm_polygons)) {
print("Data sekolah ditemukan!")
print(pekanbaru_schools$osm_polygons)
} else {
print("Tidak ada data poligon untuk sekolah.")
}
leaflet() %>%
addTiles() %>%
addPolygons(
data = pekanbaru_schools$osm_polygons,
color = "blue",
weight = 1,
fillColor = "lightblue",
fillOpacity = 0.5,
label = ~name
) %>%
addLegend("bottomright", colors = "blue", labels = "Sekolah", title = "Legenda")
# Install seminr jika belum terpasang
install.packages("seminr")
# Load package
library(seminr)
setwd("G:/Other computers/My Laptop/Pekerjaan/Pojok Statistik")
# Install seminr jika belum terpasang
install.packages("seminr")
# Load package
library(seminr)
data <- read.csv("dataset.csv", header = TRUE, sep = ',')
head(data)
